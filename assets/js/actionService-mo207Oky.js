import{a as e}from"./index-DgiuPnKP.js";const t=new class{async getActions(){return await e.get("/actions")}async getAction(t){return await e.get(`/actions/${t}`)}async createAction(t){try{return await e.post("/actions",t)}catch(a){throw a.response,a}}async updateAction(t,a){return await e.put(`/actions/${t}`,a)}async deleteAction(t){await e.delete(`/actions/${t}`)}async getActionPanels(t){return await e.get(`/actions/${t}/panels`)}async addPanelToAction(t,a){await e.post(`/actions/${t}/panels`,{panel_id:a})}async removePanelFromAction(t,a){await e.delete(`/actions/${t}/panels/${a}`)}async uploadActionImage(t,a){const n=new FormData;n.append("file",a);return await e.upload(`/actions/${t}/images`,n)}async uploadActionImages(t,a){const n=new FormData;for(const e of a)n.append("images",e);return await e.upload(`/actions/${t}/images`,n)}async deleteActionImage(t,a){await e.delete(`/actions/${t}/images/${a}`)}async getActionImages(e){return(await this.getAction(e)).images||[]}getImageUrl(t){return`${e.defaults.baseURL}/media/${t}`}validateActionData(e){const t=[];if("name"in e&&(!e.name||e.name.trim().length<3)&&t.push("Nome deve ter pelo menos 3 caracteres"),"start_date"in e&&"end_date"in e){const a=new Date(e.start_date);a>=new Date(e.end_date)&&t.push("Data de início deve ser anterior à data de fim"),a<new Date&&t.push("Data de início não pode ser no passado")}return t}validateImageFile(e){const t=[];return["image/png","image/jpg","image/jpeg","image/webp","image/gif","video/mp4","video/webm","video/ogg"].includes(e.type)||t.push("Tipo de arquivo não permitido. Use imagem (PNG/JPG/JPEG/WEBP/GIF) ou vídeo (MP4/WebM/Ogg)"),e.size>157286400&&t.push("Arquivo muito grande. Máximo 150MB"),t}formatDateForInput(e){return new Date(e).toISOString().slice(0,16)}formatDateForDisplay(e){return new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}isActionActive(e){const t=new Date,a=new Date(e.start_date),n=new Date(e.end_date);return t>=a&&t<=n}getActionStatus(e){const t=new Date,a=new Date(e.start_date),n=new Date(e.end_date);return t<a?"pending":t>n?"expired":"active"}filterActionsByStatus(e,t){return e&&Array.isArray(e)?e.filter(e=>this.getActionStatus(e)===t):[]}getActiveActions(e){return e&&Array.isArray(e)?this.filterActionsByStatus(e,"active"):[]}};export{t as a};
